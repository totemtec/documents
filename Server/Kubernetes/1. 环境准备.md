# 环境准备

### 关闭 SELinux

```bash
# 将 SELinux 设置为 permissive 模式（相当于将其禁用）
sudo setenforce 0
sudo sed -i 's/^SELINUX=enforcing$/SELINUX=permissive/' /etc/selinux/config
```

### 关闭交换分区

```bash
# 暂时禁用所有 Swap 分区
sudo swapoff -a

# 永久禁用，注释掉其中 swap 分区的一行
vi /etc/fstab

# 重启生效
reboot
```

### 配置节点解析

```bash
vi /etc/hosts

192.168.122.170  k8s-master
192.168.122.145  k8s-node1
192.168.122.92   k8s-node2
```


# 下载地址

https://kubernetes.io/releases/download

v1.30.2	linux	amd64	apiextensions-apiserver	 dl.k8s.io/v1.30.2/bin/linux/amd64/apiextensions-apiserver
v1.30.2	linux	amd64	kube-aggregator	 dl.k8s.io/v1.30.2/bin/linux/amd64/kube-aggregator
v1.30.2	linux	amd64	kube-apiserver	 dl.k8s.io/v1.30.2/bin/linux/amd64/kube-apiserver
v1.30.2	linux	amd64	kube-controller-manager	 dl.k8s.io/v1.30.2/bin/linux/amd64/kube-controller-manager
v1.30.2	linux	amd64	kube-log-runner	 dl.k8s.io/v1.30.2/bin/linux/amd64/kube-log-runner
v1.30.2	linux	amd64	kube-proxy	 dl.k8s.io/v1.30.2/bin/linux/amd64/kube-proxy
v1.30.2	linux	amd64	kube-scheduler	 dl.k8s.io/v1.30.2/bin/linux/amd64/kube-scheduler
v1.30.2	linux	amd64	kubeadm	 dl.k8s.io/v1.30.2/bin/linux/amd64/kubeadm
v1.30.2	linux	amd64	kubectl	 dl.k8s.io/v1.30.2/bin/linux/amd64/kubectl
v1.30.2	linux	amd64	kubectl-convert	 dl.k8s.io/v1.30.2/bin/linux/amd64/kubectl-convert
v1.30.2	linux	amd64	kubelet	 dl.k8s.io/v1.30.2/bin/linux/amd64/kubelet
v1.30.2	linux	amd64	mounter	 dl.k8s.io/v1.30.2/bin/linux/amd64/mounter

# 安装 kubectl 1.30

https://kubernetes.io/zh-cn/docs/tasks/tools/install-kubectl-linux/

下载 kubectl 和 kubectl.sha256

```bash
chmod +x kubectl
echo "$(cat kubectl.sha256)  kubectl" | sha256sum --check
sudo install -o root -g root -m 0755 kubectl /usr/local/bin/kubectl
kubectl version --client
kubectl version --client --output=yaml
```

如果没有 root 权限，可以放在用户目录下

```bash
chmod +x kubectl
mkdir -p ~/.local/bin
mv ./kubectl ~/.local/bin/kubectl
# 之后将 ~/.local/bin 附加（或前置）到 $PATH
```

验证安装的版本

```bash
kubectl version --client
kubectl version --client --output=yaml
```


# 安装 helm 3.15

https://github.com/helm/helm/releases

下载 helm-v3.15

```bash
tar -zxvf helm-v3.15.3-linux-amd64.tar.gz
mv linux-amd64/helm /usr/local/bin/helm
helm help
```
